"use strict";{const a=document.getElementById("loading"),b=document.getElementById("content"),c=document.querySelectorAll(".edge");document.addEventListener("DOMContentLoaded",()=>{a.classList.add("loaded"),b.classList.add("loaded"),c.forEach(e=>{e.classList.add("loaded")})})}{const e="/mywork5/data/news.json",f=document.querySelector(".news-list-ul"),g=document.querySelector(".news-contents-ul");let o;const i=[];async function displayNewsList(){const t=await fetch(e),n=await t.json();if(await n.forEach(e=>{!1===i.includes(e.category)&&i.push(e.category)}),i.forEach(e=>{const t=document.createElement("LI");t.classList.add("news-list-li","news-set-"+e.toLowerCase());const n=document.createElement("P");n.classList.add("eng"),n.textContent=e,f.appendChild(t),t.appendChild(n)}),o=document.querySelectorAll(".news-list-li"),localStorage.getItem("news_category")){const s=localStorage.getItem("news_category");o.forEach(e=>{s===e.firstElementChild.textContent&&e.classList.add("selected")})}else o[0].classList.add("selected")}async function displayNewsContents(){const t=await fetch(e),n=await t.json();await n.forEach(e=>{if(localStorage.getItem("news_category")){var t=localStorage.getItem("news_category");if(e.category===t){const n=document.createElement("LI");n.classList.add("news-contents-li");const s=document.createElement("P"),o=document.createElement("P");s.textContent=e.date,o.textContent=e.title,g.appendChild(n),n.appendChild(s),n.appendChild(o)}}else{const c=document.createElement("LI");c.classList.add("news-contents-li");const a=document.createElement("P"),l=document.createElement("P");a.textContent=e.date,l.textContent=e.title,g.appendChild(c),c.appendChild(a),c.appendChild(l)}}),document.querySelectorAll(".news-contents-li").forEach((e,t)=>{e.style.animationDelay=.1*t+"s"})}function rm(e){localStorage.removeItem("news_category");const t=document.querySelector(".news-contents-ul");let n=t.childElementCount;if(0<n)for(;0<n;)t.removeChild(t.firstElementChild),n--;e.forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")})}function set(e){localStorage.setItem("news_category",e),displayNewsContents()}displayNewsList().catch(()=>{console.log("error")}),displayNewsContents().catch(()=>{console.log("error")});const j={childList:!0},k=new MutationObserver(e=>{o.forEach(t=>{t.addEventListener("click",()=>{rm(o),t===o[0]?displayNewsContents():i.forEach(e=>{t.classList.contains("news-set-"+e.toLowerCase())&&set(e)}),t.classList.add("selected")})})});k.observe(f,j)}