"use strict";{const a=document.getElementById("loading"),b=document.getElementById("content"),c=document.querySelectorAll(".edge");document.addEventListener("DOMContentLoaded",()=>{a.classList.add("loaded"),b.classList.add("loaded"),c.forEach(e=>{e.classList.add("loaded")})})}{const e="/mywork5/data/event.json",f=document.querySelector(".event-list-ul"),g=document.querySelector(".event-contents-ul");let c;const i=[];async function displayEventList(){const t=await fetch(e),n=await t.json();if(await n.forEach(e=>{!1===i.includes(e.category)&&i.push(e.category)}),i.forEach(e=>{const t=document.createElement("LI");t.classList.add("event-list-li","event-set-"+e.toLowerCase());const n=document.createElement("P");n.classList.add("eng"),n.textContent=e,f.appendChild(t),t.appendChild(n)}),c=document.querySelectorAll(".event-list-li"),localStorage.getItem("event_category")){const o=localStorage.getItem("event_category");c.forEach(e=>{o===e.firstElementChild.textContent&&e.classList.add("selected")})}else c[0].classList.add("selected")}async function displayEventContents(){const t=await fetch(e),n=await t.json();await n.forEach(e=>{if(localStorage.getItem("event_category")){var t=localStorage.getItem("event_category");if(e.category===t){const n=document.createElement("LI");n.classList.add("event-contents-li");const o=document.createElement("P"),c=document.createElement("P");o.textContent=e.date,c.textContent=e.title,g.appendChild(n),n.appendChild(o),n.appendChild(c)}}else{const a=document.createElement("LI");a.classList.add("event-contents-li");const s=document.createElement("P"),l=document.createElement("P");s.textContent=e.date,l.textContent=e.title,g.appendChild(a),a.appendChild(s),a.appendChild(l)}}),document.querySelectorAll(".event-contents-li").forEach((e,t)=>{e.style.animationDelay=.1*t+"s"})}function rm(e){localStorage.removeItem("event_category");const t=document.querySelector(".event-contents-ul");let n=t.childElementCount;if(0<n)for(;0<n;)t.removeChild(t.firstElementChild),n--;e.forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")})}function set(e){localStorage.setItem("event_category",e),displayEventContents()}displayEventList().catch(()=>{console.log("error")}),displayEventContents().catch(()=>{console.log("error")});const j={childList:!0},k=new MutationObserver(e=>{c.forEach(t=>{t.addEventListener("click",()=>{rm(c),t===c[0]?displayEventContents():i.forEach(e=>{t.classList.contains("event-set-"+e.toLowerCase())&&set(e)}),t.classList.add("selected")})})});k.observe(f,j)}